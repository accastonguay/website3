fill = new_impervious_catchment), color = "black", size = 0.01, alpha= 0.7)+
# geom_polygon(data = cityJoined, aes(x = long, y = lat, group = id), colour = "black",
#              fill = NA, size = 1.5)+
scale_fill_distiller(palette = "YlOrRd",
direction = 1,
na.value = "black",
breaks = scales::pretty_breaks(n = 6)
# breaks = classIntervals(joined$impervious_area, n = 6, style = "quantile")
)+
labs(fill = "") +
ggthemes::theme_map()
sm = matrix(c(1,-0.1,0.3,1),2,2)
xy = as.matrix(joined[,c("long","lat")]) %*% sm
joined$x = xy[,1]; joined$y = xy[,2]
ggplot() +
geom_polygon(data = joined, aes(x = x, y = y, group = id,
fill = new_impervious_catchment), color = "black", size = 0.01, alpha= 0.7)+
# geom_polygon(data = cityJoined, aes(x = long, y = lat, group = id), colour = "black",
#              fill = NA, size = 1.5)+
scale_fill_distiller(palette = "YlOrRd",
direction = 1,
na.value = "black",
breaks = scales::pretty_breaks(n = 6)
# breaks = classIntervals(joined$impervious_area, n = 6, style = "quantile")
)+
labs(fill = "") +
ggthemes::theme_map()
sm = matrix(c(1,0.1,0.3,0.1),2,2)
xy = as.matrix(joined[,c("long","lat")]) %*% sm
joined$x = xy[,1]; joined$y = xy[,2]
ggplot() +
geom_polygon(data = joined, aes(x = x, y = y, group = id,
fill = new_impervious_catchment), color = "black", size = 0.01, alpha= 0.7)+
# geom_polygon(data = cityJoined, aes(x = long, y = lat, group = id), colour = "black",
#              fill = NA, size = 1.5)+
scale_fill_distiller(palette = "YlOrRd",
direction = 1,
na.value = "black",
breaks = scales::pretty_breaks(n = 6)
# breaks = classIntervals(joined$impervious_area, n = 6, style = "quantile")
)+
labs(fill = "") +
ggthemes::theme_map()
sm = matrix(c(1,0.1,0.3,0.5),2,2)
xy = as.matrix(joined[,c("long","lat")]) %*% sm
joined$x = xy[,1]; joined$y = xy[,2]
ggplot() +
geom_polygon(data = joined, aes(x = x, y = y, group = id,
fill = new_impervious_catchment), color = "black", size = 0.01, alpha= 0.7)+
# geom_polygon(data = cityJoined, aes(x = long, y = lat, group = id), colour = "black",
#              fill = NA, size = 1.5)+
scale_fill_distiller(palette = "YlOrRd",
direction = 1,
na.value = "black",
breaks = scales::pretty_breaks(n = 6)
# breaks = classIntervals(joined$impervious_area, n = 6, style = "quantile")
)+
labs(fill = "") +
ggthemes::theme_map()
sm = matrix(c(1,0.1,0.3,1.5),2,2)
xy = as.matrix(joined[,c("long","lat")]) %*% sm
joined$x = xy[,1]; joined$y = xy[,2]
ggplot() +
geom_polygon(data = joined, aes(x = x, y = y, group = id,
fill = new_impervious_catchment), color = "black", size = 0.01, alpha= 0.7)+
# geom_polygon(data = cityJoined, aes(x = long, y = lat, group = id), colour = "black",
#              fill = NA, size = 1.5)+
scale_fill_distiller(palette = "YlOrRd",
direction = 1,
na.value = "black",
breaks = scales::pretty_breaks(n = 6)
# breaks = classIntervals(joined$impervious_area, n = 6, style = "quantile")
)+
labs(fill = "") +
ggthemes::theme_map()
sm = matrix(c(0.5,0.1,0.3,1),2,2)
xy = as.matrix(joined[,c("long","lat")]) %*% sm
joined$x = xy[,1]; joined$y = xy[,2]
ggplot() +
geom_polygon(data = joined, aes(x = x, y = y, group = id,
fill = new_impervious_catchment), color = "black", size = 0.01, alpha= 0.7)+
# geom_polygon(data = cityJoined, aes(x = long, y = lat, group = id), colour = "black",
#              fill = NA, size = 1.5)+
scale_fill_distiller(palette = "YlOrRd",
direction = 1,
na.value = "black",
breaks = scales::pretty_breaks(n = 6)
# breaks = classIntervals(joined$impervious_area, n = 6, style = "quantile")
)+
labs(fill = "") +
ggthemes::theme_map()
sm = matrix(c(0.5,0.1,0.4,1),2,2)
xy = as.matrix(joined[,c("long","lat")]) %*% sm
joined$x = xy[,1]; joined$y = xy[,2]
ggplot() +
geom_polygon(data = joined, aes(x = x, y = y, group = id,
fill = new_impervious_catchment), color = "black", size = 0.01, alpha= 0.7)+
# geom_polygon(data = cityJoined, aes(x = long, y = lat, group = id), colour = "black",
#              fill = NA, size = 1.5)+
scale_fill_distiller(palette = "YlOrRd",
direction = 1,
na.value = "black",
breaks = scales::pretty_breaks(n = 6)
# breaks = classIntervals(joined$impervious_area, n = 6, style = "quantile")
)+
labs(fill = "") +
ggthemes::theme_map()
library("RSQLite")
library("ggplot2")
library("RPostgreSQL")
library("reshape")
# library(scales)
library(gridExtra)
library(grid)
library(dplyr)
theme_set(theme_bw())
pw <- {
"rejudo01"
}
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "complex_agents",
host = "www.dance4water.org", port = 5432,
user = "postgres", password = pw)
rm(pw) # removes the password
dbListFields(con, "v11")
model <- dbGetQuery(con, ' SELECT year, prop_indoor_rwht, perc_rwht,indoor_factor, outdoor_factor,annual_rainfall, scenario_id, bill_share_r3,add_cost_coeff  FROM v11')
dbDisconnect(con)
test <- dplyr::count(model, scenario_id)
# t2 <- filter(test, n == 10)
#
t2 <- filter(test,between(n, 10, 10))
model2 <- filter(model, scenario_id %in% t2$scenario_id)
# dim(model2)
model<- model2[1:50000,]
# model<- model2
# model <- filter(model2, between(add_cost_coeff, 0.5, 0.6) & between(bill_share_r3, 0.16, 0.18))
# model <- filter(model2, between(bill_share_r3, 0.16, 0.18))
city <- data.frame(year= integer(0), volume= integer(0), pv_indoor= numeric(0), pv_outdoor= numeric(0))
for (i in 0:9){
# print(i)
path = paste("//ad.monash.edu/home/User085/acharett/Desktop/ubuntu_shared/test/v10_",toString(i+1),".sqlite", sep="")
con = dbConnect(RSQLite::SQLite(), path)
city = rbind(city,dbGetQuery( con,'select year,  annual_rainfall, prop2kl, prop5kl, prop10kl, prop_indoor_rwht, perc_rwht from city'))
}
vars = c("year", "prop_indoor_rwht", "perc_rwht")
model = model[vars]
new_wtp = city[vars]
scenario_modelled <- rep("Modelled", length(model$year))
model["scenario"] <- NA # That creates the new column named "MY_NEW_COLUMN" filled with "NA"
model$scenario <- scenario_modelled
scenario_initial <- rep("Initial", length(new_wtp$year))
new_wtp["scenario"] <- NA # That creates the new column named "MY_NEW_COLUMN" filled with "NA"
new_wtp$scenario <- scenario_initial
years <- 2005:2014
scenario_observed<- rep("Observed", length(years))
uptake<- c(NA, NA, 11.6,NA,NA,28.2,NA,NA,31.1,NA)
prop_indoor_rwht<- c(NA, NA, NA,NA,NA,NA,NA,NA,30,NA)
obsdf<-data.frame(year = years, scenario = scenario_observed, perc_rwht=uptake, prop_indoor_rwht = prop_indoor_rwht)
model$prop_indoor_rwht <- model$prop_indoor_rwht*100
new_wtp$prop_indoor_rwht <- new_wtp$prop_indoor_rwht*100
df <- rbind(model, obsdf, new_wtp)
df_percentile <- data.frame(year= integer(0),
y05= numeric(0),
y95= numeric(0),
y25= numeric(0),
y75= numeric(0),
y50= numeric(0)
)
for (i in 2005:2014){
year <- i
dat <- subset(model, year == i)
dat$prop_indoor_rwht <- dat$prop_indoor_rwht/100
y05 <- quantile(dat$prop_indoor_rwht, 0.05, na.rm = T)
y95 <- quantile(dat$prop_indoor_rwht, 0.95, na.rm = T)
y25 <- quantile(dat$prop_indoor_rwht, 0.25, na.rm = T)
y75 <- quantile(dat$prop_indoor_rwht, 0.75, na.rm = T)
med <- quantile(dat$prop_indoor_rwht, 0.5, na.rm = T)
temp <- data.frame(year = year, y05 = y05, y95=y95, y25 = y25, y75 = y75, med = med)
df_percentile <- rbind(df_percentile,temp)
}
g <- ggplot(df_percentile)
g+  geom_line(aes(y=med, x=year, colour = "Median", fill = "Median",linetype = "Median"))+
geom_ribbon(aes(ymin=y05, ymax=y95, x=year, fill="5th-95th"), alpha = 0.5) +
geom_line(aes(x=year, y = y05, color = "5th-95th",linetype = "5th-95th")) +
geom_line(aes(x=year, y = y95, color = "5th-95th",linetype = "5th-95th")) +
geom_ribbon(aes(ymin=y25, ymax=y75, x=year, fill="25th-75th"), alpha = 0.2) +
geom_line(aes(x=year, y = y25, color = "25th-75th",linetype = "25th-75th"), alpha = 0.2) +
geom_line(aes(x=year, y = y75, color = "25th-75th",linetype = "25th-75th"), alpha = 0.2) +
geom_point(data = subset(df, scenario == 'Observed'),
aes(x = year, y = prop_indoor_rwht/100, color = "Observed", fill="Observed",linetype = "Observed"))+
geom_line(data = na.omit(subset(df[,c(1,2,3,4)], scenario == 'Initial')),
aes(x = year, y = prop_indoor_rwht/100, color="Base case",  fill="Base case",linetype = "Base case"))+
scale_colour_manual(name='', values=c("5th-95th" = "transparent", "25th-75th" = "transparent","Median" = "blue", "Base case" = "black", "Observed" = "red")) +
scale_fill_manual(name = '',  values=c("5th-95th" = "grey70","25th-75th" = "blue", "Median" = "white", "Base case" = "white", "Observed" = "white"))+
scale_linetype_manual(name = '',  values=c("5th-95th" = "blank","25th-75th" = "blank", "Median" = "solid", "Base case" = "dashed", "Observed" = "blank"))+
guides(colour = guide_legend(override.aes = list(shape=c(NA,NA,NA,NA,16))))+
scale_x_continuous(breaks = 2005:2015)+
scale_y_continuous(labels = scales::percent,
limits = c(0, 1))+
labs(y="Rainwater tanks plumbed to house", x = "")+
theme(axis.text = element_text(size=8, colour = 'black'),
panel.grid.minor = element_blank(),
legend.position=c(0.12,0.75),
legend.text	= element_text(size=8),
panel.border = element_blank(),
legend.key = element_rect(colour = NA),
axis.line.x = element_line(size = 0.5, linetype = "solid", colour = "black"),
axis.line.y = element_line(size = 0.5, linetype = "solid", colour = "black"),
axis.title.y = element_text(size=9),
legend.background = element_rect(fill=alpha('white', 0.5)))
ggsave(file="EMS_paper/proportion_plumbed_rwht_5000.png", dpi=500, width = 5, height =3)
g <- ggplot(df_percentile)
g+  geom_line(aes(y=med, x=year, colour = "Median", fill = "Median",linetype = "Median"))+
geom_ribbon(aes(ymin=y05, ymax=y95, x=year, fill="5th-95th"), alpha = 0.5) +
geom_line(aes(x=year, y = y05, color = "5th-95th",linetype = "5th-95th")) +
geom_line(aes(x=year, y = y95, color = "5th-95th",linetype = "5th-95th")) +
geom_ribbon(aes(ymin=y25, ymax=y75, x=year, fill="25th-75th"), alpha = 0.2) +
geom_line(aes(x=year, y = y25, color = "25th-75th",linetype = "25th-75th"), alpha = 0.2) +
geom_line(aes(x=year, y = y75, color = "25th-75th",linetype = "25th-75th"), alpha = 0.2) +
geom_point(data = subset(df, scenario == 'Observed'),
aes(x = year, y = prop_indoor_rwht/100, color = "Observed", fill="Observed",linetype = "Observed"))+
geom_line(data = na.omit(subset(df[,c(1,2,3,4)], scenario == 'Initial')),
aes(x = year, y = prop_indoor_rwht/100, color="Base case",  fill="Base case",linetype = "Base case"))+
scale_colour_manual(name='', values=c("5th-95th" = "transparent", "25th-75th" = "transparent","Median" = "blue", "Base case" = "black", "Observed" = "red")) +
scale_fill_manual(name = '',  values=c("5th-95th" = "grey70","25th-75th" = "blue", "Median" = "white", "Base case" = "white", "Observed" = "white"))+
scale_linetype_manual(name = '',  values=c("5th-95th" = "blank","25th-75th" = "blank", "Median" = "solid", "Base case" = "dashed", "Observed" = "blank"))+
guides(colour = guide_legend(override.aes = list(shape=c(NA,NA,NA,NA,16))))+
scale_x_continuous(breaks = 2005:2015)+
scale_y_continuous(labels = scales::percent,
limits = c(0, 1))+
labs(y="Rainwater tanks plumbed to house", x = "")+
theme(axis.text = element_text(size=8, colour = 'black'),
panel.grid.minor = element_blank(),
legend.position=c(0.12,0.75),
legend.text	= element_text(size=8),
panel.border = element_blank(),
legend.key = element_rect(colour = NA),
axis.line.x = element_line(size = 0.5, linetype = "solid", colour = "black"),
axis.line.y = element_line(size = 0.5, linetype = "solid", colour = "black"),
axis.title.y = element_text(size=9),
legend.background = element_rect(fill=alpha('white', 0)))
ggsave(file="EMS_paper/proportion_plumbed_rwht_5000.png", dpi=500, width = 5, height =3)
g <- ggplot(df_percentile) +  geom_line(aes(y=med, x=year, colour = "Median", fill = "Median",linetype = "Median"))+
geom_ribbon(aes(ymin=y05, ymax=y95, x=year, fill="5th-95th"), alpha = 0.5) +
geom_line(aes(x=year, y = y05, color = "5th-95th",linetype = "5th-95th")) +
geom_line(aes(x=year, y = y95, color = "5th-95th",linetype = "5th-95th")) +
geom_ribbon(aes(ymin=y25, ymax=y75, x=year, fill="25th-75th"), alpha = 0.2) +
geom_line(aes(x=year, y = y25, color = "25th-75th",linetype = "25th-75th"), alpha = 0.2) +
geom_line(aes(x=year, y = y75, color = "25th-75th",linetype = "25th-75th"), alpha = 0.2) +
geom_point(data = subset(df, scenario == 'Observed'),
aes(x = year, y = prop_indoor_rwht/100, color = "Observed", fill="Observed",linetype = "Observed"))+
geom_line(data = na.omit(subset(df[,c(1,2,3,4)], scenario == 'Initial')),
aes(x = year, y = prop_indoor_rwht/100, color="Base case",  fill="Base case",linetype = "Base case"))+
scale_colour_manual(name='', values=c("5th-95th" = "transparent", "25th-75th" = "transparent","Median" = "blue", "Base case" = "black", "Observed" = "red")) +
scale_fill_manual(name = '',  values=c("5th-95th" = "grey70","25th-75th" = "blue", "Median" = "white", "Base case" = "white", "Observed" = "white"))+
scale_linetype_manual(name = '',  values=c("5th-95th" = "blank","25th-75th" = "blank", "Median" = "solid", "Base case" = "dashed", "Observed" = "blank"))+
guides(colour = guide_legend(override.aes = list(shape=c(NA,NA,NA,NA,16))))+
scale_x_continuous(breaks = 2005:2015)+
scale_y_continuous(labels = scales::percent,
limits = c(0, 1))+
labs(y="Rainwater tanks plumbed to house", x = "")+
theme(axis.text = element_text(size=8, colour = 'black'),
panel.grid.minor = element_blank(),
legend.position=c(0.12,0.75),
legend.text	= element_text(size=8),
panel.border = element_blank(),
legend.key = element_rect(colour = NA),
axis.line.x = element_line(size = 0.5, linetype = "solid", colour = "black"),
axis.line.y = element_line(size = 0.5, linetype = "solid", colour = "black"),
axis.title.y = element_text(size=9),
legend.background = element_rect(fill=alpha('white', 0)))
ggsave(g, file="EMS_paper/proportion_plumbed_rwht_5000.png", dpi=500, width = 5, height =3)
library("sf", verbose = FALSE)
library(rgdal, verbose = FALSE)
library(dplyr, verbose = FALSE)
library(ggplot2, verbose = FALSE)
library(scales, verbose = FALSE)
library(ggmap, verbose = FALSE)
# library(rgeos, verbose = FALSE)
library("RPostgreSQL", verbose = FALSE)
library(gstat)
library(gridExtra)
library(grid)
theme_set(theme_bw())
pw <- {"rejudo01"}
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "complex_agents",
host = "www.dance4water.org", port = 5432,
user = "postgres", password = pw)
rm(pw) # removes the password
data_council_inst_cost <- dbGetQuery(con, 'SELECT year, suitability, scenario_id, decision_rule, budget, budget_source  FROM kgn_council_melbourne_water_costs')
##### PV costs #####
data_council_pv_cost <- dbGetQuery(con, 'SELECT year, suitability, scenario_id, budget, decision_rule, budget_source  FROM kgn_council_melbourne_water_pvcosts')
##### Budget #####
data_council_budget <- dbGetQuery(con, 'SELECT year, suitability, scenario_id, budget, decision_rule, budget_source  FROM kgn_council_melbourne_water_budget')
invisible(dbDisconnect(con))
sub_ic <- filter(data_council_inst_cost, suitability == 1, scenario_id == 102, decision_rule == 1) %>% select(year, budget,budget_source)
sub_bud <- filter(data_council_budget, suitability == 1, scenario_id == 1, decision_rule == 1) %>% select(year, budget)
sub_bud$budget_source <- "budget"
sub_pv <- filter(data_council_pv_cost, suitability == 1, scenario_id == 18, decision_rule == 1) %>% select(year, budget)
sub_pv$budget_source <- "NPC"
all_data <- rbind(sub_ic , sub_bud, sub_pv)
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '',
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
?scale_color_grey
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '', start = 0.2,
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
ggsave(file="paper2/fig2_budgets.png", dpi=300, width = 4, height =2)
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '', start = 0.3, end = 1,
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '', start = 0.2, end = 1,
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
?scale_color_grey
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '', start = 0.2, end = 0.9,
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '', start = 0.5, end = 0.9,
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '', start = 0.1, end = 0.9,
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '', start = 0.1, end = 0.7,
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
ggplot(data = all_data)+
geom_line(aes(x = year, y = budget, color = budget_source), size = 1)+
geom_point(aes(x = year, y = budget, color = budget_source, shape= budget_source), size = 1.5)+
# scale_color_manual(name = '',
#                    values = c("#000000", "#534ED9", "#FF4040"),
#                    breaks = c("budget", "costs", "NPC"),
#                    labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_color_grey(name = '', start = 0.1, end = 0.8,
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_shape_manual(name = '',
values = c(16, 4, 15),
breaks = c("budget", "costs", "NPC"),
labels = c("B1. Council allocation","B2. Net installation costs",  "B3. Net present costs"))+
scale_x_continuous(name = '', breaks = 2005:2015)+
scale_y_continuous(label=comma)+
ylab("Annual spending (AUD)")+
theme_classic()+
theme(legend.position=c(0.75,0.8),
legend.text	= element_text(size=8),
axis.text = element_text(size=8, colour = 'black'),
axis.title.y = element_text(size=9))
ggsave(file="paper2/fig2_budgets.png", dpi=300, width = 4, height =2)
setwd("C:/Users/acharett/R_codes/blogdown_website/website2")
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
